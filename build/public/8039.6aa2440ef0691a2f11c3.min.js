(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[8039,7214,6503,6027,3014,7986,588,2735,882,71,3034,9191,3564,831,7927,5482],{7927:(g,h,d)=>{"use strict";var p,m;p=[d(32230),d(7237),d(85233)],m=function(u,a,l){const n={};n.alert=function(e){e.alert_id="alert_button_"+(e.alert_id?e.alert_id:new Date().getTime()),e.title=e.title&&e.title.trim()||"",e.message=e.message?e.message.trim():"",e.type=e.type||"info";const i=$("#"+e.alert_id);i.length?t(i,e):c(e)},n.success=function(e,i){n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:e,type:"success",timeout:i||5e3})},n.error=function(e,i){if(e=e&&e.message||e,e==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:e,type:"danger",timeout:i||1e4})},n.remove=function(e){$("#alert_button_"+e).remove()};function c(e){app.parseAndTranslate("alert",e,function(i){let o=$("#"+e.alert_id);if(o.length)return t(o,e);o=i,o.fadeIn(200),a.get("toaster/tray").prepend(o),typeof e.closefn=="function"&&o.find("button").on("click",function(){return e.closefn(),r(o),!1}),e.timeout&&s(o,e),typeof e.clickfn=="function"&&o.addClass("pointer").on("click",function(f){$(f.target).is(".close")||e.clickfn(o,e),r(o)}),l.fire("action:alert.new",{alert:o,params:e})})}function t(e,i){e.find("strong").translateHtml(i.title),e.find("p").translateHtml(i.message),e.attr("class","alert alert-dismissable alert-"+i.type+" clearfix"),clearTimeout(parseInt(e.attr("timeoutId"),10)),i.timeout&&s(e,i),l.fire("action:alert.update",{alert:e,params:i}),e.off("click").removeClass("pointer"),typeof i.clickfn=="function"&&e.addClass("pointer").on("click",function(o){$(o.target).is(".close")||i.clickfn(),r(e)})}function r(e){e.fadeOut(500,function(){$(this).remove()})}function s(e,i){const o=i.timeout,f=setTimeout(function(){r(e),typeof i.timeoutfn=="function"&&i.timeoutfn(e,i)},o);e.attr("timeoutId",f),e.css("transition-property","none"),e.removeClass("animate"),setTimeout(function(){e.css("transition-property",""),e.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),e.addClass("animate"),l.fire("action:alert.animate",{alert:e,params:i})},50),e.on("mouseenter",function(){$(this).css("transition-duration",0)})}return n}.apply(h,p),m!==void 0&&(g.exports=m)},74344:(g,h,d)=>{"use strict";var p,m;p=[d(85233)],m=(u=>{const a={},l=config.relative_path+"/api/v3";function n(c,t){c.url=c.url.startsWith("/api")?config.relative_path+c.url:l+c.url;async function r(s){({options:c}=await u.fire("filter:api.options",{options:c})),$.ajax(c).done(e=>{s(null,e&&e.hasOwnProperty("status")&&e.hasOwnProperty("response")?e.response:e||{})}).fail(e=>{let i;e.responseJSON&&(i=e.responseJSON.status&&e.responseJSON.status.message?e.responseJSON.status.message:e.responseJSON.error),s(new Error(i||e.statusText))})}if(typeof t=="function"){r(t);return}return new Promise((s,e)=>{r(function(i,o){i?e(i):s(o)})})}return a.get=(c,t,r)=>n({url:c+(t&&Object.keys(t).length?"?"+$.param(t):"")},r),a.head=(c,t,r)=>n({url:c+(t&&Object.keys(t).length?"?"+$.param(t):""),method:"head"},r),a.post=(c,t,r)=>n({url:c,method:"post",data:JSON.stringify(t||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},r),a.patch=(c,t,r)=>n({url:c,method:"patch",data:JSON.stringify(t||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},r),a.put=(c,t,r)=>n({url:c,method:"put",data:JSON.stringify(t||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},r),a.del=(c,t,r)=>n({url:c,method:"delete",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},r),a.delete=a.del,a}).apply(h,p),m!==void 0&&(g.exports=m)},7237:(g,h,d)=>{"use strict";var p;p=function(){const m={};return m.core={"topic/teaser":function(u){return u?$('[component="category/topic"][data-tid="'+u+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(u,a){return $('[component="topic"][data-'+u+'="'+a+'"]')},post:function(u,a){return $('[component="post"][data-'+u+'="'+a+'"]')},"post/content":function(u){return $('[component="post"][data-pid="'+u+'"] [component="post/content"]')},"post/header":function(u){return $('[component="post"][data-pid="'+u+'"] [component="post/header"]')},"post/anchor":function(u){return $('[component="post"][data-index="'+u+'"] [component="post/anchor"]')},"post/vote-count":function(u){return $('[component="post"][data-pid="'+u+'"] [component="post/vote-count"]')},"post/bookmark-count":function(u){return $('[component="post"][data-pid="'+u+'"] [component="post/bookmark-count"]')},"user/postcount":function(u){return $('[component="user/postcount"][data-uid="'+u+'"]')},"user/reputation":function(u){return $('[component="user/reputation"][data-uid="'+u+'"]')},"category/topic":function(u,a){return $('[component="category/topic"][data-'+u+'="'+a+'"]')},"categories/category":function(u,a){return $('[component="categories/category"][data-'+u+'="'+a+'"]')},"chat/message":function(u){return $('[component="chat/message"][data-mid="'+u+'"]')},"chat/message/body":function(u){return $('[component="chat/message"][data-mid="'+u+'"] [component="chat/message/body"]')},"chat/recent/room":function(u){return $('[component="chat/recent/room"][data-roomid="'+u+'"]')}},m.get=function(){const u=Array.prototype.slice.call(arguments,1);return m.core[arguments[0]]&&u.length?m.core[arguments[0]].apply(this,u):$('[component="'+arguments[0]+'"]')},m}.call(h,d,h,g),p!==void 0&&(g.exports=p)},99398:(g,h,d)=>{g.exports=d(18196)},45482:(g,h,d)=>{g.exports=d(35729)},83713:(g,h,d)=>{g.exports=d(51077)},38259:(g,h,d)=>{g.exports=d(65616)},27145:(g,h,d)=>{"use strict";g=d.nmd(g);var p,m;p=[d(59006),d(32230),d(85233)],m=function(u,a,l){const n={};n.init=function(){const e=this;u.render("modules/taskbar",{}).then(function(i){e.taskbar=$(i),e.tasklist=e.taskbar.find("ul"),$(document.body).append(e.taskbar),e.taskbar.on("click","li",async function(){const o=$(this),f=o.attr("data-module"),b=o.attr("data-uuid"),E=await app.require(f);return o.hasClass("active")?E.minimize(b):(t(),E.load(b),n.toggleNew(b,!1),n.tasklist.removeClass("active"),o.addClass("active")),!1})}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(e,i){const o=n.tasklist.find('[data-module="'+g+'"][data-uuid="'+i+'"]');let f="close";if(e==="chat"&&(f="closeByUUID"),o.length){const b=await app.require(e);b&&typeof b[f]=="function"&&b[f](i)}},n.closeAll=function(e){let i="[data-uuid]";e&&(i='[data-module="'+e+'"]'+i),n.tasklist.find(i).each(function(o,f){n.close(e||f.getAttribute("data-module"),f.getAttribute("data-uuid"))})},n.discard=function(e,i){n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').remove(),c()},n.push=function(e,i,o,f){f=f||function(){};const b=n.tasklist.find('li[data-uuid="'+i+'"]'),E={module:e,uuid:i,options:o,element:b};l.fire("filter:taskbar.push",E),!b.length&&E.module?r(E,f):f(b)},n.get=function(e){return $('[data-module="'+e+'"]').map(function(o,f){return $(f).data()})},n.minimize=function(e,i){n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').toggleClass("active",!1)},n.toggleNew=function(e,i,o){n.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",i),o||l.fire("action:taskbar.toggleNew",e)},n.updateActive=function(e){const i=n.tasklist.find("li");i.removeClass("active"),i.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(e){return n.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function c(){n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function t(){n.tasklist.find(".active").removeClass("active")}function r(e,i){a.translate(e.options.title,function(o){const f=$("<div></div>").text(o||"NodeBB Task").html(),b=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+f+'" component="taskbar/title">'+f+"</span></a>").attr({title:f,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&t(),n.tasklist.append(b),c(),e.element=b,b.data(e),l.fire("action:taskbar.pushed",e),i(b)})}const s=function(e,i,o){switch(i){case"title":e.find('[component="taskbar/title"]').text(o);break;case"icon":e.find("i").attr("class","fa fa-"+o);break;case"image":e.find("a").css("background-image",o?'url("'+o.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",o);break}};return n.update=function(e,i,o){const f=n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]');if(!f.length)return;const b=f.data();Object.keys(o).forEach(function(E){b[E]=o[E],s(f,E,o[E])}),f.data(b)},n}.apply(h,p),m!==void 0&&(g.exports=m)},62023:(g,h,d)=>{"use strict";var p,m;p=[d(74344),d(31369),d(7927),d(50431),d(59006),d(32230),d(62526)],m=function(u,a,l,n,c,t){const r={};return r.get=s=>u.get(`/topics/${s}/thumbs`,{}),r.getByPid=s=>u.get(`/posts/${s}`,{}).then(e=>r.get(e.tid)),r.delete=(s,e)=>u.del(`/topics/${s}/thumbs`,{path:e}),r.deleteAll=s=>{r.get(s).then(e=>{Promise.all(e.map(i=>r.delete(s,i.url)))})},r.upload=s=>new Promise(e=>{n.show({title:"[[topic:composer.thumb_title]]",method:"put",route:config.relative_path+`/api/v3/topics/${s}/thumbs`},function(i){e(i)})}),r.modal={},r.modal.open=function(s){const{id:e,pid:i}=s;let{modal:o}=s,f;return new Promise(b=>{Promise.all([r.get(e),i?r.getByPid(i):[]]).then(E=>new Promise(k=>{const y=E.reduce((P,v)=>P.concat(v));f=y.length,k(y)})).then(E=>c.render("modals/topic-thumbs",{thumbs:E})).then(E=>{o?t.translate(E,function(k){o.find(".bootbox-body").html(k),r.modal.handleSort({modal:o,numThumbs:f})}):(o=a.dialog({title:"[[modules:thumbs.modal.title]]",message:E,buttons:{add:{label:'<i class="fa fa-plus"></i> [[modules:thumbs.modal.add]]',className:"btn-success",callback:()=>(r.upload(e).then(()=>{r.modal.open({...s,modal:o}),Promise.all([d.e(1006),d.e(2265),d.e(9915),d.e(7804)]).then(function(){var k=[d(44541)];(y=>{y.updateThumbCount(e,$(`[component="composer"][data-uuid="${e}"]`)),b()}).apply(null,k)}).catch(d.oe)}),!1)},close:{label:"[[global:close]]",className:"btn-primary"}}}),r.modal.handleDelete({...s,modal:o}),r.modal.handleSort({modal:o,numThumbs:f}))})})},r.modal.handleDelete=s=>{s.modal.get(0).addEventListener("click",i=>{i.target.closest('button[data-action="remove"]')&&a.confirm("[[modules:thumbs.modal.confirm-remove]]",o=>{if(!o)return;const f=i.target.closest(".media[data-id]").getAttribute("data-id"),b=i.target.closest(".media[data-path]").getAttribute("data-path");u.del(`/topics/${f}/thumbs`,{path:b}).then(()=>{r.modal.open(s)}).catch(l.error)})})},r.modal.handleSort=({modal:s,numThumbs:e})=>{if(e>1){const i=s.find(".topic-thumbs-modal");i.sortable({items:"[data-id]"}),i.on("sortupdate",r.modal.handleSortChange)}},r.modal.handleSortChange=(s,e)=>{const i=e.item.get(0).parentNode.querySelectorAll("[data-id]");Array.from(i).forEach((o,f)=>{const b=o.getAttribute("data-id");let E=o.getAttribute("data-path");E=E.replace(new RegExp(`^${config.upload_url}`),""),u.put(`/topics/${b}/thumbs/order`,{path:E,order:f}).catch(l.error)})},r}.apply(h,p),m!==void 0&&(g.exports=m)},50431:(g,h,d)=>{"use strict";var p,m;p=[d(86569)],m=function(){const u={};u.show=function(t,r){const s=t.hasOwnProperty("fileSize")&&t.fileSize!==void 0?parseInt(t.fileSize,10):!1;app.parseAndTranslate("partials/modals/upload_file_modal",{showHelp:t.hasOwnProperty("showHelp")&&t.showHelp!==void 0?t.showHelp:!0,fileSize:s,title:t.title||"[[global:upload_file]]",description:t.description||"",button:t.button||"[[global:upload]]",accept:t.accept?t.accept.replace(/,/g,"&#44; "):""},function(e){e.modal("show"),e.on("hidden.bs.modal",function(){e.remove()});const i=e.find("#uploadForm");i.attr("action",t.route),i.find("#params").val(JSON.stringify(t.params)),e.find("#fileUploadSubmitBtn").on("click",function(){$(this).addClass("disabled"),i.submit()}),i.submit(function(){return a(e,s,r),!1})})},u.hideAlerts=function(t){$(t).find("#alert-status, #alert-success, #alert-error, #upload-progress-box").addClass("hide")};function a(t,r,s){l(t,"status","[[uploads:uploading-file]]"),t.find("#upload-progress-bar").css("width","0%"),t.find("#upload-progress-box").show().removeClass("hide");const e=t.find("#fileInput");if(!e.val())return l(t,"error","[[uploads:select-file-to-upload]]");if(!c(e[0],r))return l(t,"error","[[error:file-too-big, "+r+"]]");u.ajaxSubmit(t,s)}function l(t,r,s){u.hideAlerts(t),r==="error"&&t.find("#fileUploadSubmitBtn").removeClass("disabled"),t.find("#alert-"+r).translateText(s).removeClass("hide")}u.ajaxSubmit=function(t,r){t.find("#uploadForm").ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},error:function(e){e=n(e),l(t,"error",e.responseJSON?e.responseJSON.error||e.statusText:"error uploading, code : "+e.status)},uploadProgress:function(e,i,o,f){t.find("#upload-progress-bar").css("width",f+"%")},success:function(e){let i=n(e);e.hasOwnProperty("response")&&e.hasOwnProperty("status")&&e.status.code==="ok"&&(i=e.response.images),r(i[0].url),l(t,"success","[[uploads:upload-success]]"),setTimeout(function(){u.hideAlerts(t),t.modal("hide")},750)}})};function n(t){if(typeof t=="string")try{return $.parseJSON(t)}catch{return{error:"[[error:parse-error]]"}}return t}function c(t,r){return window.FileReader&&r?t.files[0].size<=r*1e3:!0}return u}.apply(h,p),m!==void 0&&(g.exports=m)},18196:(g,h,d)=>{"use strict";var p,m;p=[d(83713)],m=function(u){var a={};return a.insertIntoTextarea=function(l,n){var c={context:this,textarea:l,value:n,preventDefault:!1};if($(window).trigger("action:composer.insertIntoTextarea",c),!c.preventDefault){var t=$(c.textarea),r=t.val(),s=t.parents('[component="composer"]');t.val(r.slice(0,c.textarea.selectionStart)+c.value+r.slice(c.textarea.selectionStart)),u.render(s)}},a.wrapSelectionInTextareaWith=function(l,n,c){var t={context:this,textarea:l,leading:n,trailing:c,preventDefault:!1};if($(window).trigger("action:composer.wrapSelectionInTextareaWith",t),!t.preventDefault){c===void 0&&(c=n);var r=$(l),s=r.val(),e=/^(\s*)([\s\S]*?)(\s*)$/.exec(s.slice(l.selectionStart,l.selectionEnd));return e[2]||(e=[null,"",s.slice(l.selectionStart,l.selectionEnd),""]),r.val(s.slice(0,l.selectionStart)+e[1]+n+e[2]+c+e[3]+s.slice(l.selectionEnd)),[e[1].length,e[3].length]}},a.updateTextareaSelection=function(l,n,c){var t={context:this,textarea:l,start:n,end:c,preventDefault:!1};$(window).trigger("action:composer.updateTextareaSelection",t),!t.preventDefault&&(l.setSelectionRange(t.start,t.end),$(t.textarea).focus())},a.getBlockData=function(l,n,c){var t=l.value;n=n.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");var r=new RegExp(n,"g"),s,e=[],i;for(t=t.split(`
`).reduce(function(o,f){return o!==null||(o=c<=f.length?f:null,o===null&&(c-=f.length+1)),o},null);(s=r.exec(t))!==null;)e.push(s.index);return i={in:!!(e.reduce(function(o,f){return c>=f+2&&(o+=1),o},0)%2),atEnd:e.reduce(function(o,f){return o||c===f},!1)},i.atEnd=i.in?i.atEnd:!1,i},a}.apply(h,p),m!==void 0&&(g.exports=m)},35729:(g,h,d)=>{"use strict";var p,m;p=[d(83713),d(38259),d(62023),d(10577)],m=function(u,a,l,n){var c={},t={picture:function(){var s=this;s.find("#files").click()},upload:function(){var s=this;s.find("#files").click()},thumbs:function(){c.exitFullscreen();var s=this;Promise.all([d.e(1006),d.e(2265),d.e(9915),d.e(7913)]).then(function(){var e=[d(44541)];(function(i){const o=s.get(0).getAttribute("data-uuid"),f=i.posts[o];(f.action==="topics.post"||f.action==="posts.edit"&&f.isMain)&&l.modal.open({id:o,pid:f.pid}).then(()=>{s.trigger("thumb.uploaded"),i.updateThumbCount(o,s)})}).apply(null,e)}).catch(d.oe)},tags:function(){var s=this;s.find(".tags-container").toggleClass("hidden")},zen:function(){var s=this;$(window).one("resize",function(){function e(){n.isFullscreen||(app.toggleNavbar(!0),$("html").removeClass("zen-mode"),a.reposition(s),$(window).off("resize",e))}n.isFullscreen&&(app.toggleNavbar(!1),$("html").addClass("zen-mode"),s.find(".write").focus(),$(window).on("resize",e),$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",n.exit))}),n.toggle(s.get(0)),$(window).trigger("action:composer.fullscreen",{postContainer:s})}},r=[];return c.exitFullscreen=function(){n.isEnabled&&n.isFullscreen&&n.exit()},c.addComposerButtons=function(){for(var s=0,e=r.length;s<e;s++)$(".formatting-bar .formatting-group #fileForm").before('<li tabindex="-1" data-format="'+r[s].name+'" title="'+(r[s].title||"")+'"><i class="'+r[s].iconClass+'"></i></li>')},c.addButton=function(s,e,i,o){o=o||s.replace("fa fa-",""),t[o]=e,r.push({name:o,iconClass:s,title:i})},c.getDispatchTable=function(){return t},c.addButtonDispatch=function(s,e){t[s]=e},c.addHandler=function(s){s.on("click",".formatting-bar li",function(e){var i=$(this).attr("data-format"),o=$(this).parents('[component="composer"]').find("textarea")[0];t.hasOwnProperty(i)&&(t[i].call(s,o,o.selectionStart,o.selectionEnd,e),u.render(s))})},c}.apply(h,p),m!==void 0&&(g.exports=m)},51077:(g,h,d)=>{"use strict";var p,m;p=[d(85233)],m=function(u){var a={};return a.render=function(l,n){if(n=n||function(){},!l.find(".preview-container").is(":visible"))return n();var c=l.find("textarea");socket.emit("plugins.composer.renderPreview",c.val(),function(t,r){t||(r=$("<div>"+r+"</div>"),r.find("img:not(.not-responsive)").addClass("img-responsive"),l.find(".preview").html(r),u.fire("action:composer.preview"),n())})},a.matchScroll=function(l){if(l.find(".preview-container").is(":visible")){var n=l.find("textarea"),c=l.find(".preview");if(n.length&&c.length){var t=n[0].scrollHeight-n.height();if(t===0)return;var r=n.scrollTop()/t;c.scrollTop(Math.max(c[0].scrollHeight-c.height(),0)*r)}}},a.handleToggler=function(l){a.env=utils.findBootstrapEnvironment();var n=l.find(".write-container .toggle-preview"),c=l.find(".preview-container .toggle-preview"),t=$(".preview-container"),r=$(".write-container");function s(){i(!1),a.env!=="xs"&&a.env!=="sm"&&localStorage.setItem("composer:previewToggled",!0)}function e(){i(!0),a.env!=="xs"&&a.env!=="sm"&&localStorage.removeItem("composer:previewToggled")}function i(o){a.env==="xs"||a.env==="sm"?(t.toggleClass("hide",!1),r.toggleClass("maximized",!1),n.toggleClass("hide",!0),t.toggleClass("hidden-xs hidden-sm",!o),r.toggleClass("hidden-xs hidden-sm",o),o&&a.render(l)):(t.toggleClass("hide",!o),r.toggleClass("maximized",!o),n.toggleClass("hide",o)),a.matchScroll(l)}a.toggle=i,c.on("click",function(){s(),l.find(".write").focus()}),n.on("click",function(){e(),l.find(".write").focus()}),localStorage.getItem("composer:previewToggled")||a.env==="xs"||a.env==="sm"?s():e()},a}.apply(h,p),m!==void 0&&(g.exports=m)},65616:(g,h,d)=>{"use strict";var p,m;p=[d(27145)],m=function(u){var a={},l=0,n=.3,c=.05,t=992,r=$("body"),s=$(window),e=$('[component="navbar"]'),i=document.body,o=e[0];function f(){return localStorage.getItem("composer:resizeRatio")||.5}function b(v){localStorage.setItem("composer:resizeRatio",Math.min(v,1))}function E(){var v;o?v=o.getBoundingClientRect():v={bottom:0};var w=Math.max(v.bottom,0),A={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return A.width=A.right,A.height=A.bottom,A.boundedTop=w,A.boundedHeight=A.bottom-w,A}function k(v,w){var A=E(),S=v[0],z=window.getComputedStyle(S),N=parseInt(z.getPropertyValue("min-height"),10),T=Math.max(N/window.innerHeight,n);if(A.width>=t){const B=(A.height-A.boundedHeight)/A.height;w=Math.min(Math.max(w,T+B),1);var _=w*A.boundedHeight/A.height;S.style.top=((1-_)*100).toString()+"%";var D=S.getBoundingClientRect();i.style.paddingBottom=(D.bottom-D.top).toString()+"px"}else v.removeAttr("style"),i.style.paddingBottom=0;v.ratio=w,S.style.visibility="visible",u.updateActive(v.attr("data-uuid"))}var y=k,P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return P&&(y=function(v,w){P(function(){k(v,w),setTimeout(function(){s.trigger("action:composer.resize"),v.trigger("action:composer.resize")},0)})}),a.reposition=function(v){var w=f();w>=1-c&&(w=1,v.addClass("maximized")),y(v,w)},a.maximize=function(v,w){w?y(v,1):a.reposition(v)},a.handleResize=function(v){var w=0,A=0,S=0,z=v.find(".resizer"),N=z[0];function T(x){var R=N.getBoundingClientRect(),F=(R.top+R.bottom)/2;w=(F-x.clientY)/2,A=x.clientY,s.on("mousemove",_),s.on("mouseup",D),r.on("touchmove",B)}function _(x){var R=x.clientY-w,F=E(),C=(F.height-R)/F.boundedHeight;y(v,C)}function D(x){x.preventDefault(),S=x.clientY,v.find("textarea").focus(),s.off("mousemove",_),s.off("mouseup",D),r.off("touchmove",B);var R=S-w,F=E(),C=(F.height-R)/F.boundedHeight;S-A===0&&v.hasClass("maximized")?(v.removeClass("maximized"),C=!l||l>=1-c?.5:l,y(v,C)):S-A===0||C>=1-c?(y(v,1),v.addClass("maximized"),l=C):v.removeClass("maximized"),b(C)}function B(x){x.preventDefault(),_(x.touches[0])}z.on("mousedown",function(x){x.preventDefault(),T(x)}).on("touchstart",function(x){x.preventDefault(),T(x.touches[0])}).on("touchend",D)},a}.apply(h,p),m!==void 0&&(g.exports=m)},10577:g=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var h=typeof window<"u"&&typeof window.document<"u"?window.document:{},d=g.exports,p=function(){for(var a,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,c=l.length,t={};n<c;n++)if(a=l[n],a&&a[1]in h){for(n=0;n<a.length;n++)t[l[0][n]]=a[n];return t}return!1}(),m={change:p.fullscreenchange,error:p.fullscreenerror},u={request:function(a,l){return new Promise(function(n,c){var t=function(){this.off("change",t),n()}.bind(this);this.on("change",t),a=a||h.documentElement;var r=a[p.requestFullscreen](l);r instanceof Promise&&r.then(t).catch(c)}.bind(this))},exit:function(){return new Promise(function(a,l){if(!this.isFullscreen){a();return}var n=function(){this.off("change",n),a()}.bind(this);this.on("change",n);var c=h[p.exitFullscreen]();c instanceof Promise&&c.then(n).catch(l)}.bind(this))},toggle:function(a,l){return this.isFullscreen?this.exit():this.request(a,l)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,l){var n=m[a];n&&h.addEventListener(n,l,!1)},off:function(a,l){var n=m[a];n&&h.removeEventListener(n,l,!1)},raw:p};if(!p){d?g.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(u,{isFullscreen:{get:function(){return Boolean(h[p.fullscreenElement])}},element:{enumerable:!0,get:function(){return h[p.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(h[p.fullscreenEnabled])}}}),d?g.exports=u:window.screenfull=u})()}}]);
