(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[3516,7214,6503,6721,6027,71,8306,7927,7073],{7927:(x,w,h)=>{"use strict";var b,f;b=[h(32230),h(7237),h(85233)],f=function(a,l,u){const c={};c.alert=function(n){n.alert_id="alert_button_"+(n.alert_id?n.alert_id:new Date().getTime()),n.title=n.title&&n.title.trim()||"",n.message=n.message?n.message.trim():"",n.type=n.type||"info";const s=$("#"+n.alert_id);s.length?t(s,n):i(n)},c.success=function(n,s){c.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:n,type:"success",timeout:s||5e3})},c.error=function(n,s){if(n=n&&n.message||n,n==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}c.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:n,type:"danger",timeout:s||1e4})},c.remove=function(n){$("#alert_button_"+n).remove()};function i(n){app.parseAndTranslate("alert",n,function(s){let r=$("#"+n.alert_id);if(r.length)return t(r,n);r=s,r.fadeIn(200),l.get("toaster/tray").prepend(r),typeof n.closefn=="function"&&r.find("button").on("click",function(){return n.closefn(),e(r),!1}),n.timeout&&o(r,n),typeof n.clickfn=="function"&&r.addClass("pointer").on("click",function(d){$(d.target).is(".close")||n.clickfn(r,n),e(r)}),u.fire("action:alert.new",{alert:r,params:n})})}function t(n,s){n.find("strong").translateHtml(s.title),n.find("p").translateHtml(s.message),n.attr("class","alert alert-dismissable alert-"+s.type+" clearfix"),clearTimeout(parseInt(n.attr("timeoutId"),10)),s.timeout&&o(n,s),u.fire("action:alert.update",{alert:n,params:s}),n.off("click").removeClass("pointer"),typeof s.clickfn=="function"&&n.addClass("pointer").on("click",function(r){$(r.target).is(".close")||s.clickfn(),e(n)})}function e(n){n.fadeOut(500,function(){$(this).remove()})}function o(n,s){const r=s.timeout,d=setTimeout(function(){e(n),typeof s.timeoutfn=="function"&&s.timeoutfn(n,s)},r);n.attr("timeoutId",d),n.css("transition-property","none"),n.removeClass("animate"),setTimeout(function(){n.css("transition-property",""),n.css("transition","width "+(r+450)+"ms linear, background-color "+(r+450)+"ms ease-in"),n.addClass("animate"),u.fire("action:alert.animate",{alert:n,params:s})},50),n.on("mouseenter",function(){$(this).css("transition-duration",0)})}return c}.apply(w,b),f!==void 0&&(x.exports=f)},7237:(x,w,h)=>{"use strict";var b;b=function(){const f={};return f.core={"topic/teaser":function(a){return a?$('[component="category/topic"][data-tid="'+a+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(a,l){return $('[component="topic"][data-'+a+'="'+l+'"]')},post:function(a,l){return $('[component="post"][data-'+a+'="'+l+'"]')},"post/content":function(a){return $('[component="post"][data-pid="'+a+'"] [component="post/content"]')},"post/header":function(a){return $('[component="post"][data-pid="'+a+'"] [component="post/header"]')},"post/anchor":function(a){return $('[component="post"][data-index="'+a+'"] [component="post/anchor"]')},"post/vote-count":function(a){return $('[component="post"][data-pid="'+a+'"] [component="post/vote-count"]')},"post/bookmark-count":function(a){return $('[component="post"][data-pid="'+a+'"] [component="post/bookmark-count"]')},"user/postcount":function(a){return $('[component="user/postcount"][data-uid="'+a+'"]')},"user/reputation":function(a){return $('[component="user/reputation"][data-uid="'+a+'"]')},"category/topic":function(a,l){return $('[component="category/topic"][data-'+a+'="'+l+'"]')},"categories/category":function(a,l){return $('[component="categories/category"][data-'+a+'="'+l+'"]')},"chat/message":function(a){return $('[component="chat/message"][data-mid="'+a+'"]')},"chat/message/body":function(a){return $('[component="chat/message"][data-mid="'+a+'"] [component="chat/message/body"]')},"chat/recent/room":function(a){return $('[component="chat/recent/room"][data-roomid="'+a+'"]')}},f.get=function(){const a=Array.prototype.slice.call(arguments,1);return f.core[arguments[0]]&&a.length?f.core[arguments[0]].apply(this,a):$('[component="'+arguments[0]+'"]')},f}.call(w,h,w,x),b!==void 0&&(x.exports=b)},7073:(x,w,h)=>{"use strict";var b,f;b=[h(32230),h(66603),h(85233),h(7927)],f=function(a,l,u,c){const i={current:{}};i.init=function(e){if(!config.searchEnabled)return;e=e||{in:config.searchDefaultInQuick||"titles"};const o=$("#search-button"),n=$("#search-fields"),s=$("#search-fields input"),r=$("#quick-search-container");$("#search-form .advanced-search-link").off("mousedown").on("mousedown",function(){ajaxify.go("/search")}),$("#search-form").off("submit").on("submit",function(){s.blur()}),s.off("blur").on("blur",function(){setTimeout(function(){s.is(":focus")||(n.addClass("hidden"),o.removeClass("hidden"))},200)}),s.off("focus");const d={inputEl:s,resultEl:r};i.enableQuickSearch({searchOptions:e,searchElements:d}),o.off("click").on("click",function(y){return!config.loggedIn&&!app.user.privileges["search:content"]?(c.alert({message:"[[error:search-requires-login]]",timeout:3e3}),ajaxify.go("login"),!1):(y.stopPropagation(),i.showAndFocusInput(),!1)}),$("#search-form").off("submit").on("submit",function(){const y=$(this).find("input"),m=i.getSearchPreferences();return m.term=y.val(),m.in=e.in,u.fire("action:search.submit",{searchOptions:m,searchElements:d}),i.query(m,function(){y.val("")}),!1})},i.enableQuickSearch=function(e){if(!config.searchEnabled||!app.user.privileges["search:content"])return;const o=Object.assign({in:config.searchDefaultInQuick||"titles"},e.searchOptions),n=e.searchElements.resultEl,s=e.searchElements.inputEl;let r=s.val();const d=n.find(".filter-category");function y(){ajaxify.data.template.category&&ajaxify.data.cid&&a.translate("[[search:search-in-category, "+ajaxify.data.name+"]]",function(v){const p=$("<div></div>").html(v).text();d.find(".name").text(p)}),d.toggleClass("hidden",!(ajaxify.data.template.category&&ajaxify.data.cid))}function m(){e.searchOptions=Object.assign({},o),e.searchOptions.term=s.val(),y(),ajaxify.data.template.category&&ajaxify.data.cid&&d.find('input[type="checkbox"]').is(":checked")&&(e.searchOptions.categories=[ajaxify.data.cid],e.searchOptions.searchChildren=!0),n.removeClass("hidden").find(".quick-search-results-container").html(""),n.find(".loading-indicator").removeClass("hidden"),u.fire("action:search.quick.start",e),e.searchOptions.searchOnly=1,i.api(e.searchOptions,function(v){if(n.find(".loading-indicator").addClass("hidden"),!v.posts||e.hideOnNoMatches&&!v.posts.length)return n.addClass("hidden").find(".quick-search-results-container").html("");v.posts.forEach(function(p){const C=$("<div>"+p.content+"</div>").text(),A=s.val().toLowerCase().replace(/^in:topic-\d+/,""),_=Math.max(0,C.toLowerCase().indexOf(A)-40);p.snippet=utils.escapeHTML((_>0?"...":"")+C.slice(_,_+80)+(C.length-_>80?"...":""))}),app.parseAndTranslate("partials/quick-search-results",v,function(p){p.length&&p.find(".timeago").timeago(),n.toggleClass("hidden",!p.length||!s.is(":focus")).find(".quick-search-results-container").html(p.length?p:"");const C=n.find(".quick-search-results .quick-search-title, .quick-search-results .snippet");i.highlightMatches(e.searchOptions.term,C),u.fire("action:search.quick.complete",{data:v,options:e})})})}n.find('.filter-category input[type="checkbox"]').on("change",function(){s.focus(),m()}),s.off("keyup").on("keyup",utils.debounce(function(){if(s.val().length<3){n.addClass("hidden"),r=s.val();return}if(s.val()!==r){if(r=s.val(),!s.is(":focus"))return n.addClass("hidden");m()}},500));let S=!1;n.on("mousedown",function(){$(window).one("mouseup",function(){n.addClass("hidden")}),S=!0}),s.on("blur",function(){!s.is(":focus")&&!S&&!n.hasClass("hidden")&&n.addClass("hidden")});let k=!1;u.on("action:ajaxify.end",function(){ajaxify.isCold()||(k=!0)}),s.on("focus",function(){S=!1;const v=s.val();r=v,v&&n.find("#quick-search-results").children().length&&(y(),k?(m(),k=!1):n.removeClass("hidden"),s[0].setSelectionRange(v.startsWith("in:topic")?v.indexOf(" ")+1:0,v.length))}),s.off("refresh").on("refresh",function(){m()})},i.showAndFocusInput=function(){$("#search-fields").removeClass("hidden"),$("#search-button").addClass("hidden"),$("#search-fields input").focus()},i.query=function(e,o){o=o||function(){},ajaxify.go("search?"+t(e)),o()},i.api=function(e,o){const n=config.relative_path+"/api/search?"+t(e);e.searchOnly=void 0;const s=config.relative_path+"/search?"+t(e);$.get(n,function(r){r.url=s,o(r)})};function t(e){const o=e.in||"titles",n=e.by||"";let s=e.term.replace(/^[ ?#]*/,"");try{s=encodeURIComponent(s)}catch{return c.error("[[error:invalid-search-term]]")}const r={term:s,in:o};return e.matchWords&&(r.matchWords=e.matchWords),n&&n.length&&(o==="posts"||o==="titles"||o==="titlesposts")&&(r.by=n),e.categories&&e.categories.length&&(r.categories=e.categories,e.searchChildren&&(r.searchChildren=e.searchChildren)),e.hasTags&&e.hasTags.length&&(r.hasTags=e.hasTags),parseInt(e.replies,10)>0&&(r.replies=e.replies,r.repliesFilter=e.repliesFilter||"atleast"),e.timeRange&&(r.timeRange=e.timeRange,r.timeFilter=e.timeFilter||"newer"),e.sortBy&&(r.sortBy=e.sortBy,r.sortDirection=e.sortDirection),e.showAs&&(r.showAs=e.showAs),e.searchOnly&&(r.searchOnly=e.searchOnly),u.fire("action:search.createQueryString",{query:r,data:e}),decodeURIComponent($.param(r))}return i.getSearchPreferences=function(){try{return JSON.parse(l.getItem("search-preferences")||"{}")}catch{return{}}},i.highlightMatches=function(e,o){if(!e||!o.length)return;e=utils.escapeHTML(e.replace(/^"/,"").replace(/"$/,"").trim());const n=e.split(" ").map(function(r){return utils.escapeRegexChars(r)}).join("|"),s=new RegExp("("+n+")","gi");o.each(function(){const r=$(this),d=[];r.find("*").each(function(){$(this).after("<!-- "+d.length+" -->"),d.push($("<div></div>").append($(this)))}),r.html(r.html().replace(s,function(y,m){return'<strong class="search-match">'+m+"</strong>"})),d.forEach(function(y,m){r.html(r.html().replace("<!-- "+m+" -->",function(){return y.html()}))})}),$(".search-result-text").find("img:not(.not-responsive)").addClass("img-responsive")},i}.apply(w,b),f!==void 0&&(x.exports=f)},66603:(x,w,h)=>{"use strict";var b;b=function(){function f(){this._store={},this._keys=[]}f.prototype.isMock=!0,f.prototype.setItem=function(u,c){u=String(u),this._keys.indexOf(u)===-1&&this._keys.push(u),this._store[u]=c},f.prototype.getItem=function(u){return u=String(u),this._keys.indexOf(u)===-1?null:this._store[u]},f.prototype.removeItem=function(u){u=String(u),this._keys=this._keys.filter(function(c){return c!==u}),this._store[u]=null},f.prototype.clear=function(){this._keys=[],this._store={}},f.prototype.key=function(u){return u=parseInt(u,10)||0,this._keys[u]},Object.defineProperty&&Object.defineProperty(f.prototype,"length",{get:function(){return this._keys.length}});let a;const l=Date.now().toString();try{if(a=window.localStorage,a.setItem(l,l),a.getItem(l)!==l)throw Error("localStorage behaved unexpectedly");return a.removeItem(l),a}catch(u){console.warn(u),console.warn("localStorage failed, falling back on sessionStorage");try{if(a=window.sessionStorage,a.setItem(l,l),a.getItem(l)!==l)throw Error("sessionStorage behaved unexpectedly");return a.removeItem(l),a}catch(c){return console.warn(c),console.warn("sessionStorage failed, falling back on memory storage"),new f}}}.call(w,h,w,x),b!==void 0&&(x.exports=b)},10442:function(x){(function(w,h){x.exports=h()})(this,function(){"use strict";function w(c,i){for(var t in i)i.hasOwnProperty(t)&&(c[t]=i[t]);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}function h(c,i){if(!c)throw TypeError("Invalid arguments: "+i)}function b(){Element.prototype.matches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,Object.entries=function(c){return Object.keys(c).map(function(i){return[i,c[i]]})},Object.values=function(c){return Object.keys(c).map(function(i){return c[i]})},Object.assign=Object.assign||function(c){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];for(var e=0,o=i;e<o.length;e++)for(var n=o[e],s=0,r=Object.entries(n);s<r.length;s++){var d=r[s],y=d[0],m=d[1];c[y]=m}return c},Array.prototype.includes=function(i){return this.indexOf(i)!==-1}}var f=["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end"],a=function(){function c(i){var t=this;if(this.styles={base:{menu:{},panel:{}},open:{menu:{},panel:{}},closed:{menu:{},panel:{}}},this.handlers={beforeclose:[],closed:[],beforeopen:[],opened:[],touchstart:[],touchmove:[],touchend:[]},this.state={opened:!1,opening:!1,closed:!0,closing:!1},this.disabled=!1,!Object.values(c.modes).some(function(C){return t instanceof C}))throw TypeError("Calling this constructor is not allowed. Use `Pulling.create` instead");var e=i.menu,o=i.panel,n=i.side,s=i.mode,r=i.margin,d=i.timing,y=i.timingFunction,m=i.width,S=i.sensitivity,k=i.slope,v=i.touch,p=i.openPanelClass;this.menu=e,this.panel=o,this.side=n||"left",this.mode=s||"drawer",this.margin=r||25,this.timing=d||200,this.timingFunction=y||"ease",this.width=m||256,this.sensitivity=S||.25,this.slope=k||.5,this.openPanelClass=p||null,h(e instanceof Element,"`menu` must be of type `Element`"),h(o instanceof Element,"`panel` must be of type `Element`"),h(this.side==="left"||this.side==="right",'`side` must be equal to "left" or "right"'),h(typeof this.margin=="number",'`margin` must be of type "number"'),h(typeof this.timing=="number",'`timing` must be of type "number"'),h(f.includes(this.timingFunction),"`timingFunction` must be one of "+f.map(function(C){return'"'+C+'"'}).join(", ")),h(typeof this.width=="number",'`width` must be of type "number"'),h(typeof this.sensitivity=="number",'`sensitivity` must be of type "number"'),h(typeof this.slope=="number",'`slope` must be of type "number"')}return c.create=function(i){var t=i.mode||Object.keys(c.modes)[0]||"drawer";if(!c.modes[t]){var e=Object.keys(c.modes).map(function(o){return'"'+o+'"'}).join(", ");throw TypeError("`mode` must be one of "+e)}return new c.modes[t](i)},c.prototype.emit=function(i,t){var e=this;this.handlers[i].forEach(function(o){return o.call(e,t)})},c.prototype.on=function(i,t){return this.handlers[i].push(t),this},c.prototype.off=function(i,t){return t?this.handlers[i]=this.handlers[i].filter(function(e){return e!==t}):this.handlers[i]=[],this},c.prototype.open=function(i){var t=this;if(this.emit("beforeopen",i),this.disabled)return this;if(this.state.opened)return this;this.state.closed=!1,this.state.closing=!1,this.state.opening=!0,this.state.opened=!1,this.openPanelClass&&document.documentElement.classList.add(this.openPanelClass);var e=this.offset();if(e>0){var o=this.timing*(1-e/this.width)+"ms";this.menu.style.transitionDuration=o,this.panel.style.transitionDuration=o}Object.assign(this.menu.style,this.styles.open.menu),Object.assign(this.panel.style,this.styles.open.panel);var n=function(){t.state.opening=!1,t.state.opened=!0,Object.assign(t.menu.style,t.styles.open.menu),Object.assign(t.panel.style,t.styles.open.panel),t.emit("opened")};return e===this.width?n():this.afterTransitionend(n),this},c.prototype.close=function(i){var t=this;if(this.emit("beforeclose",i),this.disabled)return this;if(this.state.closed)return this.state.closing=!1,this;this.state.closed=!1,this.state.closing=!0,this.state.opening=!1,this.state.opened=!1;var e=this.offset();if(e>0){var o=this.timing*e/this.width+"ms";this.menu.style.transitionDuration=o,this.panel.style.transitionDuration=o}Object.assign(this.menu.style,this.styles.closed.menu),Object.assign(this.panel.style,this.styles.closed.panel);var n=function(){t.state.closing=!1,t.state.closed=!0,Object.assign(t.menu.style,t.styles.closed.menu),Object.assign(t.panel.style,t.styles.closed.panel),t.openPanelClass&&document.documentElement.classList.remove(t.openPanelClass),t.emit("closed")};return e===0?n():this.afterTransitionend(n),this},c.prototype.toggle=function(i){return i===!0?this.open():i===!1?this.close():this.toggle(this.state.closed||this.state.closing),this},c.prototype.disable=function(){return this.disabled=!0,this},c.prototype.enable=function(){return this.disabled=!1,this},c.prototype.afterTransitionend=function(i){},c.prototype.offset=function(){return 0},c.modes={},c}(),l=function(c){w(i,c);function i(t){var e=c.call(this,t)||this;return e.touched=!1,e.ignores=[],e.ignoreSelector="",e.touch=t.touch!==!1,e.ignoreScrollables=t.ignoreScrollables!==!1,e.touch&&e.addTouchEvents(),e}return i.prototype.applyOffset=function(t){},i.prototype.initTouchEvents=function(){var t=this,e=this,o=e.width,n=e.margin,s=e.side,r=e.slope,d=e.sensitivity,y=e.menu,m=e.panel,S=s==="left"?1:-1,k=0,v=0,p=0,C=0,A=0,_=0,F=0,P=!1,R=function(g){if(!g||g===document.documentElement||g===document.body)return!1;var j=getComputedStyle(g),E=j.overflowX,T=j.overflowY;return E==="auto"||E==="scroll"||E==="visible"&&T!=="visible"||R(g.parentElement)},q=function(g){var j=g.target;if(!(t.ignoreSelector&&j.matches(t.ignoreSelector))&&!(t.ignoreScrollables&&R(j))&&(t.emit("touchstart",g),!t.disabled&&(t.touched=!1,g.touches.length===1))){var E=g.touches[0],T=E.clientX,O=E.clientY,I=t.offset(),D=n+I;(s==="left"&&T<=D||s==="right"&&window.innerWidth-T<=D)&&(t.touched=!0,k=T,v=O,p=T,C=I,_=Date.now(),P=!0)}},X=function(g){if(t.emit("touchmove",g),!(t.disabled||!t.touched)){var j=g.touches[0],E=j.clientX,T=j.clientY,O=(E-k)*S;if(!(Math.abs(O)<10)){if(P){var I=T-v,D=Math.abs(I/O);if(D>r){t.touched=!1;return}(t.state.closed&&O>0||t.state.opened)&&t.emit("beforeopen"),y.style.transition="",m.style.transition=""}if(t.state.opened&&O>0||t.state.closed&&O<0){p=E,_=Date.now();return}t.state.opened=!1,t.state.closed=!1;var M=(E-p)*S,L=M>0;t.state.opening=L,t.state.closing=!L;var B=Math.min(Math.max(0,C+O),o);t.applyOffset(B),F=p,p=E,A=_,_=Date.now(),P=!1}}},U=function(g){if(t.touched&&(t.touched=!1,!P)){t.emit("touchend",g),Object.assign(t.panel.style,t.styles.base.panel),Object.assign(t.menu.style,t.styles.base.menu);var j=t.offset(),E=g.changedTouches[0].clientX,T,O;E===p?(T=F,O=A):(T=p,O=_);var I=E,D=Date.now(),M=(I-T)/(D-O)*S;j>o/2&&M>-d||M>d?t.open(g):t.close(g)}};return{onTouchstart:q,onTouchmove:X,onTouchend:U}},i.prototype.addTouchEvents=function(){this.touchEvents||(this.touchEvents=this.initTouchEvents()),document.documentElement.addEventListener("touchstart",this.touchEvents.onTouchstart,!1),document.documentElement.addEventListener("touchmove",this.touchEvents.onTouchmove,!1),document.documentElement.addEventListener("touchend",this.touchEvents.onTouchend,!1)},i.prototype.removeTouchEvents=function(){document.documentElement.removeEventListener("touchstart",this.touchEvents.onTouchstart),document.documentElement.removeEventListener("touchmove",this.touchEvents.onTouchmove),document.documentElement.removeEventListener("touchend",this.touchEvents.onTouchend)},i.prototype.ignore=function(t){return this.ignores.push(t),this.ignoreSelector=this.ignores.join(", "),this},i.prototype.unignore=function(t){return this.ignores=this.ignores.filter(function(e){return e!==t}),this.ignoreSelector=this.ignores.join(", "),this},i.prototype.enableTouch=function(){return this.touch||(this.addTouchEvents(),this.touch=!0),this},i.prototype.disableTouch=function(){return this.touch&&(this.removeTouchEvents(),this.touch=!1),this},i}(a),u=function(c){w(i,c);function i(t){var e,o=c.call(this,t)||this;return o.styles.base.menu=(e={transition:"transform "+o.timing+"ms "+o.timingFunction,overflowX:"hidden",overflowY:"auto",position:"fixed"},e[o.side]="-"+o.width+"px",e.top="0",e.bottom="0",e.width=o.width+"px",e.zIndex="1",e),o.styles.open.menu={transform:"translateX("+(o.side==="right"?"-":"")+o.width+"px)"},o.styles.closed.menu={transform:"translateX(0)"},Object.assign(o.menu.style,o.styles.base.menu,o.styles.closed.menu),Object.assign(o.panel.style,o.styles.base.panel,o.styles.closed.panel),o.initTransitionend(),o}return i.prototype.offset=function(){var t=this.menu.getBoundingClientRect();return this.side==="left"?t.left+this.width:window.innerWidth-t.left},i.prototype.applyOffset=function(t){var e=this.side==="left"?1:-1;this.menu.style.transform="translateX("+t*e+"px)"},i.prototype.afterTransitionend=function(t){this.onTransitionend=t},i.prototype.initTransitionend=function(){var t=this;this.menu.addEventListener("transitionend",function(){t.onTransitionend&&t.onTransitionend(),t.onTransitionend=null},!1)},i}(l);return l.modes.drawer=u,b(),l})}}]);
