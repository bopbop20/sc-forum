(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2735],{83713:(s,d,a)=>{s.exports=a(51077)},51077:(s,d,a)=>{"use strict";var f,g;f=[a(85233)],g=function(m){var e={};return e.render=function(i,r){if(r=r||function(){},!i.find(".preview-container").is(":visible"))return r();var t=i.find("textarea");socket.emit("plugins.composer.renderPreview",t.val(),function(o,n){o||(n=$("<div>"+n+"</div>"),n.find("img:not(.not-responsive)").addClass("img-responsive"),i.find(".preview").html(n),m.fire("action:composer.preview"),r())})},e.matchScroll=function(i){if(i.find(".preview-container").is(":visible")){var r=i.find("textarea"),t=i.find(".preview");if(r.length&&t.length){var o=r[0].scrollHeight-r.height();if(o===0)return;var n=r.scrollTop()/o;t.scrollTop(Math.max(t[0].scrollHeight-t.height(),0)*n)}}},e.handleToggler=function(i){e.env=utils.findBootstrapEnvironment();var r=i.find(".write-container .toggle-preview"),t=i.find(".preview-container .toggle-preview"),o=$(".preview-container"),n=$(".write-container");function c(){v(!1),e.env!=="xs"&&e.env!=="sm"&&localStorage.setItem("composer:previewToggled",!0)}function u(){v(!0),e.env!=="xs"&&e.env!=="sm"&&localStorage.removeItem("composer:previewToggled")}function v(l){e.env==="xs"||e.env==="sm"?(o.toggleClass("hide",!1),n.toggleClass("maximized",!1),r.toggleClass("hide",!0),o.toggleClass("hidden-xs hidden-sm",!l),n.toggleClass("hidden-xs hidden-sm",l),l&&e.render(i)):(o.toggleClass("hide",!l),n.toggleClass("maximized",!l),r.toggleClass("hide",l)),e.matchScroll(i)}e.toggle=v,t.on("click",function(){c(),i.find(".write").focus()}),r.on("click",function(){u(),i.find(".write").focus()}),localStorage.getItem("composer:previewToggled")||e.env==="xs"||e.env==="sm"?c():u()},e}.apply(d,f),g!==void 0&&(s.exports=g)}}]);
