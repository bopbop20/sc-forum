(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[588,7214,6503,6027,3014,2735,882,71,3034,9191,3564,831,7927,5482],{7927:(g,v,d)=>{"use strict";var p,m;p=[d(32230),d(7237),d(85233)],m=function(c,a,u){const n={};n.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:new Date().getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const e=$("#"+t.alert_id);e.length?i(e,t):l(t)},n.success=function(t,e){n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:e||5e3})},n.error=function(t,e){if(t=t&&t.message||t,t==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:e||1e4})},n.remove=function(t){$("#alert_button_"+t).remove()};function l(t){app.parseAndTranslate("alert",t,function(e){let o=$("#"+t.alert_id);if(o.length)return i(o,t);o=e,o.fadeIn(200),a.get("toaster/tray").prepend(o),typeof t.closefn=="function"&&o.find("button").on("click",function(){return t.closefn(),s(o),!1}),t.timeout&&r(o,t),typeof t.clickfn=="function"&&o.addClass("pointer").on("click",function(f){$(f.target).is(".close")||t.clickfn(o,t),s(o)}),u.fire("action:alert.new",{alert:o,params:t})})}function i(t,e){t.find("strong").translateHtml(e.title),t.find("p").translateHtml(e.message),t.attr("class","alert alert-dismissable alert-"+e.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&r(t,e),u.fire("action:alert.update",{alert:t,params:e}),t.off("click").removeClass("pointer"),typeof e.clickfn=="function"&&t.addClass("pointer").on("click",function(o){$(o.target).is(".close")||e.clickfn(),s(t)})}function s(t){t.fadeOut(500,function(){$(this).remove()})}function r(t,e){const o=e.timeout,f=setTimeout(function(){s(t),typeof e.timeoutfn=="function"&&e.timeoutfn(t,e)},o);t.attr("timeoutId",f),t.css("transition-property","none"),t.removeClass("animate"),setTimeout(function(){t.css("transition-property",""),t.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),t.addClass("animate"),u.fire("action:alert.animate",{alert:t,params:e})},50),t.on("mouseenter",function(){$(this).css("transition-duration",0)})}return n}.apply(v,p),m!==void 0&&(g.exports=m)},74344:(g,v,d)=>{"use strict";var p,m;p=[d(85233)],m=(c=>{const a={},u=config.relative_path+"/api/v3";function n(l,i){l.url=l.url.startsWith("/api")?config.relative_path+l.url:u+l.url;async function s(r){({options:l}=await c.fire("filter:api.options",{options:l})),$.ajax(l).done(t=>{r(null,t&&t.hasOwnProperty("status")&&t.hasOwnProperty("response")?t.response:t||{})}).fail(t=>{let e;t.responseJSON&&(e=t.responseJSON.status&&t.responseJSON.status.message?t.responseJSON.status.message:t.responseJSON.error),r(new Error(e||t.statusText))})}if(typeof i=="function"){s(i);return}return new Promise((r,t)=>{s(function(e,o){e?t(e):r(o)})})}return a.get=(l,i,s)=>n({url:l+(i&&Object.keys(i).length?"?"+$.param(i):"")},s),a.head=(l,i,s)=>n({url:l+(i&&Object.keys(i).length?"?"+$.param(i):""),method:"head"},s),a.post=(l,i,s)=>n({url:l,method:"post",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},s),a.patch=(l,i,s)=>n({url:l,method:"patch",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},s),a.put=(l,i,s)=>n({url:l,method:"put",data:JSON.stringify(i||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},s),a.del=(l,i,s)=>n({url:l,method:"delete",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},s),a.delete=a.del,a}).apply(v,p),m!==void 0&&(g.exports=m)},7237:(g,v,d)=>{"use strict";var p;p=function(){const m={};return m.core={"topic/teaser":function(c){return c?$('[component="category/topic"][data-tid="'+c+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(c,a){return $('[component="topic"][data-'+c+'="'+a+'"]')},post:function(c,a){return $('[component="post"][data-'+c+'="'+a+'"]')},"post/content":function(c){return $('[component="post"][data-pid="'+c+'"] [component="post/content"]')},"post/header":function(c){return $('[component="post"][data-pid="'+c+'"] [component="post/header"]')},"post/anchor":function(c){return $('[component="post"][data-index="'+c+'"] [component="post/anchor"]')},"post/vote-count":function(c){return $('[component="post"][data-pid="'+c+'"] [component="post/vote-count"]')},"post/bookmark-count":function(c){return $('[component="post"][data-pid="'+c+'"] [component="post/bookmark-count"]')},"user/postcount":function(c){return $('[component="user/postcount"][data-uid="'+c+'"]')},"user/reputation":function(c){return $('[component="user/reputation"][data-uid="'+c+'"]')},"category/topic":function(c,a){return $('[component="category/topic"][data-'+c+'="'+a+'"]')},"categories/category":function(c,a){return $('[component="categories/category"][data-'+c+'="'+a+'"]')},"chat/message":function(c){return $('[component="chat/message"][data-mid="'+c+'"]')},"chat/message/body":function(c){return $('[component="chat/message"][data-mid="'+c+'"] [component="chat/message/body"]')},"chat/recent/room":function(c){return $('[component="chat/recent/room"][data-roomid="'+c+'"]')}},m.get=function(){const c=Array.prototype.slice.call(arguments,1);return m.core[arguments[0]]&&c.length?m.core[arguments[0]].apply(this,c):$('[component="'+arguments[0]+'"]')},m}.call(v,d,v,g),p!==void 0&&(g.exports=p)},45482:(g,v,d)=>{g.exports=d(35729)},83713:(g,v,d)=>{g.exports=d(51077)},38259:(g,v,d)=>{g.exports=d(65616)},27145:(g,v,d)=>{"use strict";g=d.nmd(g);var p,m;p=[d(59006),d(32230),d(85233)],m=function(c,a,u){const n={};n.init=function(){const t=this;c.render("modules/taskbar",{}).then(function(e){t.taskbar=$(e),t.tasklist=t.taskbar.find("ul"),$(document.body).append(t.taskbar),t.taskbar.on("click","li",async function(){const o=$(this),f=o.attr("data-module"),b=o.attr("data-uuid"),E=await app.require(f);return o.hasClass("active")?E.minimize(b):(i(),E.load(b),n.toggleNew(b,!1),n.tasklist.removeClass("active"),o.addClass("active")),!1})}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(t,e){const o=n.tasklist.find('[data-module="'+g+'"][data-uuid="'+e+'"]');let f="close";if(t==="chat"&&(f="closeByUUID"),o.length){const b=await app.require(t);b&&typeof b[f]=="function"&&b[f](e)}},n.closeAll=function(t){let e="[data-uuid]";t&&(e='[data-module="'+t+'"]'+e),n.tasklist.find(e).each(function(o,f){n.close(t||f.getAttribute("data-module"),f.getAttribute("data-uuid"))})},n.discard=function(t,e){n.tasklist.find('[data-module="'+t+'"][data-uuid="'+e+'"]').remove(),l()},n.push=function(t,e,o,f){f=f||function(){};const b=n.tasklist.find('li[data-uuid="'+e+'"]'),E={module:t,uuid:e,options:o,element:b};u.fire("filter:taskbar.push",E),!b.length&&E.module?s(E,f):f(b)},n.get=function(t){return $('[data-module="'+t+'"]').map(function(o,f){return $(f).data()})},n.minimize=function(t,e){n.tasklist.find('[data-module="'+t+'"][data-uuid="'+e+'"]').toggleClass("active",!1)},n.toggleNew=function(t,e,o){n.tasklist.find('[data-uuid="'+t+'"]').toggleClass("new",e),o||u.fire("action:taskbar.toggleNew",t)},n.updateActive=function(t){const e=n.tasklist.find("li");e.removeClass("active"),e.filter('[data-uuid="'+t+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+t+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(t){return n.tasklist.find('li[data-uuid="'+t+'"]').hasClass("active")};function l(){n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function i(){n.tasklist.find(".active").removeClass("active")}function s(t,e){a.translate(t.options.title,function(o){const f=$("<div></div>").text(o||"NodeBB Task").html(),b=$("<li></li>").addClass(t.options.className).html('<a href="#"'+(t.options.image?` style="background-image: url('`+t.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(t.options.icon?'<i class="fa '+t.options.icon+'"></i> ':"")+'<span aria-label="'+f+'" component="taskbar/title">'+f+"</span></a>").attr({title:f,"data-module":t.module,"data-uuid":t.uuid}).addClass(t.options.state!==void 0?t.options.state:"active");(!t.options.state||t.options.state==="active")&&i(),n.tasklist.append(b),l(),t.element=b,b.data(t),u.fire("action:taskbar.pushed",t),e(b)})}const r=function(t,e,o){switch(e){case"title":t.find('[component="taskbar/title"]').text(o);break;case"icon":t.find("i").attr("class","fa fa-"+o);break;case"image":t.find("a").css("background-image",o?'url("'+o.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":t.find("a").css("background-color",o);break}};return n.update=function(t,e,o){const f=n.tasklist.find('[data-module="'+t+'"][data-uuid="'+e+'"]');if(!f.length)return;const b=f.data();Object.keys(o).forEach(function(E){b[E]=o[E],r(f,E,o[E])}),f.data(b)},n}.apply(v,p),m!==void 0&&(g.exports=m)},62023:(g,v,d)=>{"use strict";var p,m;p=[d(74344),d(31369),d(7927),d(50431),d(59006),d(32230),d(62526)],m=function(c,a,u,n,l,i){const s={};return s.get=r=>c.get(`/topics/${r}/thumbs`,{}),s.getByPid=r=>c.get(`/posts/${r}`,{}).then(t=>s.get(t.tid)),s.delete=(r,t)=>c.del(`/topics/${r}/thumbs`,{path:t}),s.deleteAll=r=>{s.get(r).then(t=>{Promise.all(t.map(e=>s.delete(r,e.url)))})},s.upload=r=>new Promise(t=>{n.show({title:"[[topic:composer.thumb_title]]",method:"put",route:config.relative_path+`/api/v3/topics/${r}/thumbs`},function(e){t(e)})}),s.modal={},s.modal.open=function(r){const{id:t,pid:e}=r;let{modal:o}=r,f;return new Promise(b=>{Promise.all([s.get(t),e?s.getByPid(e):[]]).then(E=>new Promise(k=>{const x=E.reduce((P,h)=>P.concat(h));f=x.length,k(x)})).then(E=>l.render("modals/topic-thumbs",{thumbs:E})).then(E=>{o?i.translate(E,function(k){o.find(".bootbox-body").html(k),s.modal.handleSort({modal:o,numThumbs:f})}):(o=a.dialog({title:"[[modules:thumbs.modal.title]]",message:E,buttons:{add:{label:'<i class="fa fa-plus"></i> [[modules:thumbs.modal.add]]',className:"btn-success",callback:()=>(s.upload(t).then(()=>{s.modal.open({...r,modal:o}),Promise.all([d.e(1006),d.e(2265),d.e(9915),d.e(7804)]).then(function(){var k=[d(44541)];(x=>{x.updateThumbCount(t,$(`[component="composer"][data-uuid="${t}"]`)),b()}).apply(null,k)}).catch(d.oe)}),!1)},close:{label:"[[global:close]]",className:"btn-primary"}}}),s.modal.handleDelete({...r,modal:o}),s.modal.handleSort({modal:o,numThumbs:f}))})})},s.modal.handleDelete=r=>{r.modal.get(0).addEventListener("click",e=>{e.target.closest('button[data-action="remove"]')&&a.confirm("[[modules:thumbs.modal.confirm-remove]]",o=>{if(!o)return;const f=e.target.closest(".media[data-id]").getAttribute("data-id"),b=e.target.closest(".media[data-path]").getAttribute("data-path");c.del(`/topics/${f}/thumbs`,{path:b}).then(()=>{s.modal.open(r)}).catch(u.error)})})},s.modal.handleSort=({modal:r,numThumbs:t})=>{if(t>1){const e=r.find(".topic-thumbs-modal");e.sortable({items:"[data-id]"}),e.on("sortupdate",s.modal.handleSortChange)}},s.modal.handleSortChange=(r,t)=>{const e=t.item.get(0).parentNode.querySelectorAll("[data-id]");Array.from(e).forEach((o,f)=>{const b=o.getAttribute("data-id");let E=o.getAttribute("data-path");E=E.replace(new RegExp(`^${config.upload_url}`),""),c.put(`/topics/${b}/thumbs/order`,{path:E,order:f}).catch(u.error)})},s}.apply(v,p),m!==void 0&&(g.exports=m)},50431:(g,v,d)=>{"use strict";var p,m;p=[d(86569)],m=function(){const c={};c.show=function(i,s){const r=i.hasOwnProperty("fileSize")&&i.fileSize!==void 0?parseInt(i.fileSize,10):!1;app.parseAndTranslate("partials/modals/upload_file_modal",{showHelp:i.hasOwnProperty("showHelp")&&i.showHelp!==void 0?i.showHelp:!0,fileSize:r,title:i.title||"[[global:upload_file]]",description:i.description||"",button:i.button||"[[global:upload]]",accept:i.accept?i.accept.replace(/,/g,"&#44; "):""},function(t){t.modal("show"),t.on("hidden.bs.modal",function(){t.remove()});const e=t.find("#uploadForm");e.attr("action",i.route),e.find("#params").val(JSON.stringify(i.params)),t.find("#fileUploadSubmitBtn").on("click",function(){$(this).addClass("disabled"),e.submit()}),e.submit(function(){return a(t,r,s),!1})})},c.hideAlerts=function(i){$(i).find("#alert-status, #alert-success, #alert-error, #upload-progress-box").addClass("hide")};function a(i,s,r){u(i,"status","[[uploads:uploading-file]]"),i.find("#upload-progress-bar").css("width","0%"),i.find("#upload-progress-box").show().removeClass("hide");const t=i.find("#fileInput");if(!t.val())return u(i,"error","[[uploads:select-file-to-upload]]");if(!l(t[0],s))return u(i,"error","[[error:file-too-big, "+s+"]]");c.ajaxSubmit(i,r)}function u(i,s,r){c.hideAlerts(i),s==="error"&&i.find("#fileUploadSubmitBtn").removeClass("disabled"),i.find("#alert-"+s).translateText(r).removeClass("hide")}c.ajaxSubmit=function(i,s){i.find("#uploadForm").ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},error:function(t){t=n(t),u(i,"error",t.responseJSON?t.responseJSON.error||t.statusText:"error uploading, code : "+t.status)},uploadProgress:function(t,e,o,f){i.find("#upload-progress-bar").css("width",f+"%")},success:function(t){let e=n(t);t.hasOwnProperty("response")&&t.hasOwnProperty("status")&&t.status.code==="ok"&&(e=t.response.images),s(e[0].url),u(i,"success","[[uploads:upload-success]]"),setTimeout(function(){c.hideAlerts(i),i.modal("hide")},750)}})};function n(i){if(typeof i=="string")try{return $.parseJSON(i)}catch{return{error:"[[error:parse-error]]"}}return i}function l(i,s){return window.FileReader&&s?i.files[0].size<=s*1e3:!0}return c}.apply(v,p),m!==void 0&&(g.exports=m)},35729:(g,v,d)=>{"use strict";var p,m;p=[d(83713),d(38259),d(62023),d(10577)],m=function(c,a,u,n){var l={},i={picture:function(){var r=this;r.find("#files").click()},upload:function(){var r=this;r.find("#files").click()},thumbs:function(){l.exitFullscreen();var r=this;Promise.all([d.e(1006),d.e(2265),d.e(9915),d.e(7913)]).then(function(){var t=[d(44541)];(function(e){const o=r.get(0).getAttribute("data-uuid"),f=e.posts[o];(f.action==="topics.post"||f.action==="posts.edit"&&f.isMain)&&u.modal.open({id:o,pid:f.pid}).then(()=>{r.trigger("thumb.uploaded"),e.updateThumbCount(o,r)})}).apply(null,t)}).catch(d.oe)},tags:function(){var r=this;r.find(".tags-container").toggleClass("hidden")},zen:function(){var r=this;$(window).one("resize",function(){function t(){n.isFullscreen||(app.toggleNavbar(!0),$("html").removeClass("zen-mode"),a.reposition(r),$(window).off("resize",t))}n.isFullscreen&&(app.toggleNavbar(!1),$("html").addClass("zen-mode"),r.find(".write").focus(),$(window).on("resize",t),$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",n.exit))}),n.toggle(r.get(0)),$(window).trigger("action:composer.fullscreen",{postContainer:r})}},s=[];return l.exitFullscreen=function(){n.isEnabled&&n.isFullscreen&&n.exit()},l.addComposerButtons=function(){for(var r=0,t=s.length;r<t;r++)$(".formatting-bar .formatting-group #fileForm").before('<li tabindex="-1" data-format="'+s[r].name+'" title="'+(s[r].title||"")+'"><i class="'+s[r].iconClass+'"></i></li>')},l.addButton=function(r,t,e,o){o=o||r.replace("fa fa-",""),i[o]=t,s.push({name:o,iconClass:r,title:e})},l.getDispatchTable=function(){return i},l.addButtonDispatch=function(r,t){i[r]=t},l.addHandler=function(r){r.on("click",".formatting-bar li",function(t){var e=$(this).attr("data-format"),o=$(this).parents('[component="composer"]').find("textarea")[0];i.hasOwnProperty(e)&&(i[e].call(r,o,o.selectionStart,o.selectionEnd,t),c.render(r))})},l}.apply(v,p),m!==void 0&&(g.exports=m)},51077:(g,v,d)=>{"use strict";var p,m;p=[d(85233)],m=function(c){var a={};return a.render=function(u,n){if(n=n||function(){},!u.find(".preview-container").is(":visible"))return n();var l=u.find("textarea");socket.emit("plugins.composer.renderPreview",l.val(),function(i,s){i||(s=$("<div>"+s+"</div>"),s.find("img:not(.not-responsive)").addClass("img-responsive"),u.find(".preview").html(s),c.fire("action:composer.preview"),n())})},a.matchScroll=function(u){if(u.find(".preview-container").is(":visible")){var n=u.find("textarea"),l=u.find(".preview");if(n.length&&l.length){var i=n[0].scrollHeight-n.height();if(i===0)return;var s=n.scrollTop()/i;l.scrollTop(Math.max(l[0].scrollHeight-l.height(),0)*s)}}},a.handleToggler=function(u){a.env=utils.findBootstrapEnvironment();var n=u.find(".write-container .toggle-preview"),l=u.find(".preview-container .toggle-preview"),i=$(".preview-container"),s=$(".write-container");function r(){e(!1),a.env!=="xs"&&a.env!=="sm"&&localStorage.setItem("composer:previewToggled",!0)}function t(){e(!0),a.env!=="xs"&&a.env!=="sm"&&localStorage.removeItem("composer:previewToggled")}function e(o){a.env==="xs"||a.env==="sm"?(i.toggleClass("hide",!1),s.toggleClass("maximized",!1),n.toggleClass("hide",!0),i.toggleClass("hidden-xs hidden-sm",!o),s.toggleClass("hidden-xs hidden-sm",o),o&&a.render(u)):(i.toggleClass("hide",!o),s.toggleClass("maximized",!o),n.toggleClass("hide",o)),a.matchScroll(u)}a.toggle=e,l.on("click",function(){r(),u.find(".write").focus()}),n.on("click",function(){t(),u.find(".write").focus()}),localStorage.getItem("composer:previewToggled")||a.env==="xs"||a.env==="sm"?r():t()},a}.apply(v,p),m!==void 0&&(g.exports=m)},65616:(g,v,d)=>{"use strict";var p,m;p=[d(27145)],m=function(c){var a={},u=0,n=.3,l=.05,i=992,s=$("body"),r=$(window),t=$('[component="navbar"]'),e=document.body,o=t[0];function f(){return localStorage.getItem("composer:resizeRatio")||.5}function b(h){localStorage.setItem("composer:resizeRatio",Math.min(h,1))}function E(){var h;o?h=o.getBoundingClientRect():h={bottom:0};var w=Math.max(h.bottom,0),A={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return A.width=A.right,A.height=A.bottom,A.boundedTop=w,A.boundedHeight=A.bottom-w,A}function k(h,w){var A=E(),S=h[0],N=window.getComputedStyle(S),_=parseInt(N.getPropertyValue("min-height"),10),B=Math.max(_/window.innerHeight,n);if(A.width>=i){const T=(A.height-A.boundedHeight)/A.height;w=Math.min(Math.max(w,B+T),1);var D=w*A.boundedHeight/A.height;S.style.top=((1-D)*100).toString()+"%";var R=S.getBoundingClientRect();e.style.paddingBottom=(R.bottom-R.top).toString()+"px"}else h.removeAttr("style"),e.style.paddingBottom=0;h.ratio=w,S.style.visibility="visible",c.updateActive(h.attr("data-uuid"))}var x=k,P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return P&&(x=function(h,w){P(function(){k(h,w),setTimeout(function(){r.trigger("action:composer.resize"),h.trigger("action:composer.resize")},0)})}),a.reposition=function(h){var w=f();w>=1-l&&(w=1,h.addClass("maximized")),x(h,w)},a.maximize=function(h,w){w?x(h,1):a.reposition(h)},a.handleResize=function(h){var w=0,A=0,S=0,N=h.find(".resizer"),_=N[0];function B(y){var z=_.getBoundingClientRect(),F=(z.top+z.bottom)/2;w=(F-y.clientY)/2,A=y.clientY,r.on("mousemove",D),r.on("mouseup",R),s.on("touchmove",T)}function D(y){var z=y.clientY-w,F=E(),C=(F.height-z)/F.boundedHeight;x(h,C)}function R(y){y.preventDefault(),S=y.clientY,h.find("textarea").focus(),r.off("mousemove",D),r.off("mouseup",R),s.off("touchmove",T);var z=S-w,F=E(),C=(F.height-z)/F.boundedHeight;S-A===0&&h.hasClass("maximized")?(h.removeClass("maximized"),C=!u||u>=1-l?.5:u,x(h,C)):S-A===0||C>=1-l?(x(h,1),h.addClass("maximized"),u=C):h.removeClass("maximized"),b(C)}function T(y){y.preventDefault(),D(y.touches[0])}N.on("mousedown",function(y){y.preventDefault(),B(y)}).on("touchstart",function(y){y.preventDefault(),B(y.touches[0])}).on("touchend",R)},a}.apply(v,p),m!==void 0&&(g.exports=m)},10577:g=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var v=typeof window<"u"&&typeof window.document<"u"?window.document:{},d=g.exports,p=function(){for(var a,u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,l=u.length,i={};n<l;n++)if(a=u[n],a&&a[1]in v){for(n=0;n<a.length;n++)i[u[0][n]]=a[n];return i}return!1}(),m={change:p.fullscreenchange,error:p.fullscreenerror},c={request:function(a,u){return new Promise(function(n,l){var i=function(){this.off("change",i),n()}.bind(this);this.on("change",i),a=a||v.documentElement;var s=a[p.requestFullscreen](u);s instanceof Promise&&s.then(i).catch(l)}.bind(this))},exit:function(){return new Promise(function(a,u){if(!this.isFullscreen){a();return}var n=function(){this.off("change",n),a()}.bind(this);this.on("change",n);var l=v[p.exitFullscreen]();l instanceof Promise&&l.then(n).catch(u)}.bind(this))},toggle:function(a,u){return this.isFullscreen?this.exit():this.request(a,u)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,u){var n=m[a];n&&v.addEventListener(n,u,!1)},off:function(a,u){var n=m[a];n&&v.removeEventListener(n,u,!1)},raw:p};if(!p){d?g.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(c,{isFullscreen:{get:function(){return Boolean(v[p.fullscreenElement])}},element:{enumerable:!0,get:function(){return v[p.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(v[p.fullscreenEnabled])}}}),d?g.exports=c:window.screenfull=c})()}}]);
