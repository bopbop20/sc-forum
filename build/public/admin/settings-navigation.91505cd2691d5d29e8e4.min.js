(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[715,7214,6503,6027,8042,71,7927],{50992:(y,x,p)=>{"use strict";var g,m;g=[p(32230),p(18487),p(59006),p(7927),p(87285),p(66709),p(62526)],m=function(o,s,n,t){const i={};let d;i.init=function(){d=ajaxify.data.available,$("#available").find("li .drag-item").draggable({connectToSortable:"#active-navigation",helper:"clone",distance:10,stop:h}),$("#active-navigation").sortable().droppable({accept:$("#available li .drag-item")}),$("#enabled").on("click",".iconPicker",function(){const r=$(this).find("i");s.init(r,function(u){const f=u.attr("value"),v=r.parents("[data-index]").attr("data-index");$('#active-navigation [data-index="'+v+'"] i.nav-icon').attr("class","fa fa-fw "+f),r.siblings('[name="iconClass"]').val(f),r.siblings(".change-icon-link").toggleClass("hidden",!!f)})}),$("#enabled").on("click",'[name="dropdown"]',function(){const r=$(this),u=r.parents("[data-index]").attr("data-index");$('#active-navigation [data-index="'+u+'"] i.dropdown-icon').toggleClass("hidden",!r.is(":checked"))}),$("#active-navigation").on("click","li",a),$("#enabled").on("click",".delete",c).on("click",".toggle",l),$("#save").on("click",e)};function a(){const r=$(this).attr("data-index");$("#active-navigation li").removeClass("active"),$(this).addClass("active");const u=$("#enabled").children('[data-index="'+r+'"]');return $("#enabled li").addClass("hidden"),u.length&&u.removeClass("hidden"),!1}function h(r,u){const f=u.helper.attr("data-id"),v=$('#active-navigation [data-id="'+f+'"]'),_=f==="custom"?{iconClass:"fa-navicon",groups:d[0].groups,enabled:!0}:d[f];_.index=(parseInt($("#enabled").children().last().attr("data-index"),10)||0)+1,_.title=o.escape(_.title),_.text=o.escape(_.text),_.groups=ajaxify.data.groups,n.parse("admin/settings/navigation","navigation",{navigation:[_]},function(b){o.translate(b,function(C){C=$(o.unescape(C)),v.after(C),v.remove()})}),n.parse("admin/settings/navigation","enabled",{enabled:[_]},function(b){o.translate(b,function(C){C=$(o.unescape(C)),$("#enabled").append(C),componentHandler.upgradeDom()})})}function e(){const r=[],u=[];$("#active-navigation li").each(function(){u.push($(this).attr("data-index"))}),u.forEach(function(f){const _=$("#enabled").children('[data-index="'+f+'"]').find("form").serializeArray(),b={};_.forEach(function(C){b[C.name]?(Array.isArray(b[C.name])||(b[C.name]=[b[C.name]]),b[C.name].push(C.value)):b[C.name]=C.value}),r.push(b)}),socket.emit("admin.navigation.save",r,function(f){f?t.error(f):t.success("Successfully saved navigation")})}function c(){const r=$(this).parents("[data-index]").attr("data-index");return $('#active-navigation [data-index="'+r+'"]').remove(),$('#enabled [data-index="'+r+'"]').remove(),!1}function l(){const r=$(this),u=r.hasClass("btn-success"),f=r.parents("[data-index]").attr("data-index");return o.translate(u?"[[admin/settings/navigation:btn.disable]]":"[[admin/settings/navigation:btn.enable]]",function(v){r.toggleClass("btn-warning").toggleClass("btn-success").html(v),r.parents("li").find('[name="enabled"]').val(u?"on":""),$('#active-navigation [data-index="'+f+'"] a').toggleClass("text-muted",!u)}),!1}return i}.apply(x,g),m!==void 0&&(y.exports=m)},7927:(y,x,p)=>{"use strict";var g,m;g=[p(32230),p(7237),p(85233)],m=function(o,s,n){const t={};t.alert=function(e){e.alert_id="alert_button_"+(e.alert_id?e.alert_id:new Date().getTime()),e.title=e.title&&e.title.trim()||"",e.message=e.message?e.message.trim():"",e.type=e.type||"info";const c=$("#"+e.alert_id);c.length?d(c,e):i(e)},t.success=function(e,c){t.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:e,type:"success",timeout:c||5e3})},t.error=function(e,c){if(e=e&&e.message||e,e==="[[error:revalidate-failure]]"){socket.disconnect(),app.reconnect();return}t.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:e,type:"danger",timeout:c||1e4})},t.remove=function(e){$("#alert_button_"+e).remove()};function i(e){app.parseAndTranslate("alert",e,function(c){let l=$("#"+e.alert_id);if(l.length)return d(l,e);l=c,l.fadeIn(200),s.get("toaster/tray").prepend(l),typeof e.closefn=="function"&&l.find("button").on("click",function(){return e.closefn(),a(l),!1}),e.timeout&&h(l,e),typeof e.clickfn=="function"&&l.addClass("pointer").on("click",function(r){$(r.target).is(".close")||e.clickfn(l,e),a(l)}),n.fire("action:alert.new",{alert:l,params:e})})}function d(e,c){e.find("strong").translateHtml(c.title),e.find("p").translateHtml(c.message),e.attr("class","alert alert-dismissable alert-"+c.type+" clearfix"),clearTimeout(parseInt(e.attr("timeoutId"),10)),c.timeout&&h(e,c),n.fire("action:alert.update",{alert:e,params:c}),e.off("click").removeClass("pointer"),typeof c.clickfn=="function"&&e.addClass("pointer").on("click",function(l){$(l.target).is(".close")||c.clickfn(),a(e)})}function a(e){e.fadeOut(500,function(){$(this).remove()})}function h(e,c){const l=c.timeout,r=setTimeout(function(){a(e),typeof c.timeoutfn=="function"&&c.timeoutfn(e,c)},l);e.attr("timeoutId",r),e.css("transition-property","none"),e.removeClass("animate"),setTimeout(function(){e.css("transition-property",""),e.css("transition","width "+(l+450)+"ms linear, background-color "+(l+450)+"ms ease-in"),e.addClass("animate"),n.fire("action:alert.animate",{alert:e,params:c})},50),e.on("mouseenter",function(){$(this).css("transition-duration",0)})}return t}.apply(x,g),m!==void 0&&(y.exports=m)},7237:(y,x,p)=>{"use strict";var g;g=function(){const m={};return m.core={"topic/teaser":function(o){return o?$('[component="category/topic"][data-tid="'+o+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(o,s){return $('[component="topic"][data-'+o+'="'+s+'"]')},post:function(o,s){return $('[component="post"][data-'+o+'="'+s+'"]')},"post/content":function(o){return $('[component="post"][data-pid="'+o+'"] [component="post/content"]')},"post/header":function(o){return $('[component="post"][data-pid="'+o+'"] [component="post/header"]')},"post/anchor":function(o){return $('[component="post"][data-index="'+o+'"] [component="post/anchor"]')},"post/vote-count":function(o){return $('[component="post"][data-pid="'+o+'"] [component="post/vote-count"]')},"post/bookmark-count":function(o){return $('[component="post"][data-pid="'+o+'"] [component="post/bookmark-count"]')},"user/postcount":function(o){return $('[component="user/postcount"][data-uid="'+o+'"]')},"user/reputation":function(o){return $('[component="user/reputation"][data-uid="'+o+'"]')},"category/topic":function(o,s){return $('[component="category/topic"][data-'+o+'="'+s+'"]')},"categories/category":function(o,s){return $('[component="categories/category"][data-'+o+'="'+s+'"]')},"chat/message":function(o){return $('[component="chat/message"][data-mid="'+o+'"]')},"chat/message/body":function(o){return $('[component="chat/message"][data-mid="'+o+'"] [component="chat/message/body"]')},"chat/recent/room":function(o){return $('[component="chat/recent/room"][data-roomid="'+o+'"]')}},m.get=function(){const o=Array.prototype.slice.call(arguments,1);return m.core[arguments[0]]&&o.length?m.core[arguments[0]].apply(this,o):$('[component="'+arguments[0]+'"]')},m}.call(x,p,x,y),g!==void 0&&(y.exports=g)},18487:(y,x,p)=>{"use strict";var g,m;g=[p(59006),p(31369)],m=function(o,s){const n={};return n.init=function(t,i){i=i||function(){};const d=t.hasClass("fa-2x");let a=t.attr("class").replace("fa-2x","").replace("fa","").replace(/\s+/g,"");if($("#icons .selected").removeClass("selected"),a)try{$("#icons .fa-icons .fa."+a).addClass("selected")}catch{a=""}o.render("partials/fontawesome",{}).then(function(h){h=$(h),h.find(".fa-icons").prepend($('<i class="fa fa-nbb-none"></i>'));const e=s.dialog({onEscape:!0,backdrop:!0,show:!1,message:h,title:"Select an Icon",buttons:{noIcon:{label:"No Icon",className:"btn-default",callback:function(){t.attr("class","fa "+(d?"fa-2x ":"")),t.val(""),t.attr("value",""),i(t)}},success:{label:"Select",className:"btn-primary",callback:function(){const c=$(".bootbox .selected").attr("class")||`fa fa-${$(".bootbox #fa-filter").val()}`,l=$("<div></div>").addClass(c).removeClass("fa").removeClass("selected").attr("class"),r=e.find("input").val();l?(t.attr("class","fa "+(d?"fa-2x ":"")+l),t.val(l),t.attr("value",l)):r&&(t.attr("class",r),t.val(r),t.attr("value",r)),i(t)}}}});e.on("show.bs.modal",function(){const c=$(this),l=c.find("input");a&&(c.find("."+a).addClass("selected"),l.val(a.replace("fa-","")))}).modal("show"),e.on("shown.bs.modal",function(){const c=$(this),l=c.find("input"),r=c.find(".fa-icons i"),u=c.find("button.btn-primary");function f(v){c.find("i.selected").removeClass("selected"),v?v.addClass("selected"):l.val().length===0?a&&c.find("."+a).addClass("selected"):c.find("i:visible").first().addClass("selected")}l.selectRange(0,l.val().length),c.find(".icon-container").on("click","i",function(){l.val($(this).attr("class").replace("fa fa-","").replace("selected","")),f($(this))}),l.on("keyup",function(v){v.keyCode!==13?(r.show(),r.each(function(_,b){b.className.match(new RegExp("^fa fa-.*"+l.val()+".*$"))||$(b).hide()}),f()):u.click()})})})},n}.apply(x,g),m!==void 0&&(y.exports=m)},66709:(y,x,p)=>{var g,m,o;/*!
* jQuery UI Droppable 1.13.2
* http://jqueryui.com
*
* Copyright jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*/(function(s){"use strict";m=[p(19755),p(87285),p(66177),p(85592),p(26891)],g=s,o=typeof g=="function"?g.apply(x,m):g,o!==void 0&&(y.exports=o)})(function(s){"use strict";return s.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var n,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=typeof i=="function"?i:function(d){return d.is(i)},this.proportions=function(){if(arguments.length)n=arguments[0];else return n||(n={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(n){s.ui.ddmanager.droppables[n]=s.ui.ddmanager.droppables[n]||[],s.ui.ddmanager.droppables[n].push(this)},_splice:function(n){for(var t=0;t<n.length;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var n=s.ui.ddmanager.droppables[this.options.scope];this._splice(n)},_setOption:function(n,t){if(n==="accept")this.accept=typeof t=="function"?t:function(d){return d.is(t)};else if(n==="scope"){var i=s.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(t)}this._super(n,t)},_activate:function(n){var t=s.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",n,this.ui(t))},_deactivate:function(n){var t=s.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",n,this.ui(t))},_over:function(n){var t=s.ui.ddmanager.current;!t||(t.currentItem||t.element)[0]===this.element[0]||this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",n,this.ui(t)))},_out:function(n){var t=s.ui.ddmanager.current;!t||(t.currentItem||t.element)[0]===this.element[0]||this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",n,this.ui(t)))},_drop:function(n,t){var i=t||s.ui.ddmanager.current,d=!1;return!i||(i.currentItem||i.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=s(this).droppable("instance");if(a.options.greedy&&!a.options.disabled&&a.options.scope===i.options.scope&&a.accept.call(a.element[0],i.currentItem||i.element)&&s.ui.intersect(i,s.extend(a,{offset:a.element.offset()}),a.options.tolerance,n))return d=!0,!1}),d)?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(i)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),s.ui.intersect=function(){function n(t,i,d){return t>=i&&t<i+d}return function(t,i,d,a){if(!i.offset)return!1;var h=(t.positionAbs||t.position.absolute).left+t.margins.left,e=(t.positionAbs||t.position.absolute).top+t.margins.top,c=h+t.helperProportions.width,l=e+t.helperProportions.height,r=i.offset.left,u=i.offset.top,f=r+i.proportions().width,v=u+i.proportions().height;switch(d){case"fit":return r<=h&&c<=f&&u<=e&&l<=v;case"intersect":return r<h+t.helperProportions.width/2&&c-t.helperProportions.width/2<f&&u<e+t.helperProportions.height/2&&l-t.helperProportions.height/2<v;case"pointer":return n(a.pageY,u,i.proportions().height)&&n(a.pageX,r,i.proportions().width);case"touch":return(e>=u&&e<=v||l>=u&&l<=v||e<u&&l>v)&&(h>=r&&h<=f||c>=r&&c<=f||h<r&&c>f);default:return!1}}}(),s.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(n,t){var i,d,a=s.ui.ddmanager.droppables[n.options.scope]||[],h=t?t.type:null,e=(n.currentItem||n.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||n&&!a[i].accept.call(a[i].element[0],n.currentItem||n.element))){for(d=0;d<e.length;d++)if(e[d]===a[i].element[0]){a[i].proportions().height=0;continue t}a[i].visible=a[i].element.css("display")!=="none",a[i].visible&&(h==="mousedown"&&a[i]._activate.call(a[i],t),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(n,t){var i=!1;return s.each((s.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&s.ui.intersect(n,this,this.options.tolerance,t)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(n,t){n.element.parentsUntil("body").on("scroll.droppable",function(){n.options.refreshPositions||s.ui.ddmanager.prepareOffsets(n,t)})},drag:function(n,t){n.options.refreshPositions&&s.ui.ddmanager.prepareOffsets(n,t),s.each(s.ui.ddmanager.droppables[n.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var i,d,a,h=s.ui.intersect(n,this,this.options.tolerance,t),e=!h&&this.isover?"isout":h&&!this.isover?"isover":null;e&&(this.options.greedy&&(d=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return s(this).droppable("instance").options.scope===d}),a.length&&(i=s(a[0]).droppable("instance"),i.greedyChild=e==="isover")),i&&e==="isover"&&(i.isover=!1,i.isout=!0,i._out.call(i,t)),this[e]=!0,this[e==="isout"?"isover":"isout"]=!1,this[e==="isover"?"_over":"_out"].call(this,t),i&&e==="isout"&&(i.isout=!1,i.isover=!0,i._over.call(i,t)))}})},dragStop:function(n,t){n.element.parentsUntil("body").off("scroll.droppable"),n.options.refreshPositions||s.ui.ddmanager.prepareOffsets(n,t)}},s.uiBackCompat!==!1&&s.widget("ui.droppable",s.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),s.ui.droppable})}}]);
